<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>TagBase</title>

<style>
body{
  background:#111;
  color:#fff;
  font-family: Arial, sans-serif;
  text-align:center;
}

input, select, button{
  padding:8px;
  margin:5px;
  width:80%;
  max-width:300px;
}

button{
  background:#ff2e2e;
  border:none;
  color:#fff;
  cursor:pointer;
}

.hidden{display:none;}

hr{margin:30px 0;}
</style>
</head>

<body>

<img src="logo.png" width="200"><br><br>

<h2>TagBase Shop</h2>

<!-- GİRİŞ -->
<h3>Giriş</h3>
<input id="loginUser" placeholder="Kullanıcı adı">
<input id="loginPass" type="password" placeholder="Şifre">
<button onclick="login()">Giriş Yap</button>

<!-- KAYIT -->
<hr>
<h3>Kayıt Ol</h3>
<input id="regUser" placeholder="Yeni kullanıcı adı">
<input id="regPass" type="password" placeholder="Yeni şifre">
<button onclick="register()">Kayıt Ol</button>

<p style="font-size:13px;color:#aaa">
Kayıt olmadan sipariş verilemez.
</p>

<!-- SİPARİŞ -->
<div id="orderArea" class="hidden">
<hr>
<h2>Sipariş Ver</h2>

<form action="https://formspree.io/f/mdakkpzw" method="POST" onsubmit="return beforeSend()">

<input name="siparis_no" id="orderNo" readonly>

<input name="isim" placeholder="İsim Soyisim" required>
<input name="adres" placeholder="Adres" required>

<select name="urun">
  <option>Posca Kalem</option>
</select>

<select name="renk" required>
  <option value="">Renk Seç</option>
  <option>Siyah</option>
  <option>Beyaz</option>
  <option>Kırmızı</option>
  <option>Mavi</option>
</select>

<input type="number" id="adet" name="adet" placeholder="Adet" min="1" value="1" required oninput="calc()">

<input name="toplam_fiyat" id="price" readonly>

<button type="submit">Siparişi Gönder</button>

</form>
</div>

<script>
const ADMIN_USER = "cinar0zer";
const ADMIN_PASS = "han11222";

function register(){
  let u = regUser.value;
  let p = regPass.value;
  if(!u || !p){ alert("Boş bırakma"); return; }
  localStorage.setItem(u,p);
  alert("Kayıt başarılı");
}

function login(){
  let u = loginUser.value;
  let p = loginPass.value;

  if(u===ADMIN_USER && p===ADMIN_PASS){
    alert("Admin girişi");
    orderArea.classList.remove("hidden");
    return;
  }

  let saved = localStorage.getItem(u);
  if(saved===p){
    alert("Giriş başarılı");
    orderArea.classList.remove("hidden");
  }else{
    alert("Hatalı giriş");
  }
}

function calc(){
  let adet = adetInput = document.getElementById("adet").value;
  document.getElementById("price").value = adet * 170 + " TL";
}

function beforeSend(){
  let no = "TB-" + Math.floor(Math.random()*99999);
  document.getElementById("orderNo").value = no;
  return true;
}

calc();
</script>

</body>
</html>

