<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>TagBase</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Rubik+Wet+Paint&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#0e0e0e;
  color:#fff;
  text-align:center;
}
header{background:#000;padding:40px;}
header h1{
  font-family:'Rubik Wet Paint', cursive;
  font-size:56px;
}
section{padding:40px 20px;}
.box{
  max-width:600px;
  margin:auto;
  background:#161616;
  padding:25px;
  border-radius:12px;
  margin-bottom:20px;
}
input,select,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:6px;
  border:none;
}
button{font-weight:bold;cursor:pointer;}
button:disabled{background:#444;}
.admin{border:2px dashed #ff5555;}
</style>
</head>

<body>

<header>
<h1>TAGBASE</h1>
<p>Sokaktan doƒüdu.</p>
</header>

<section>

<div class="box">
<h2>Hakkƒ±mƒ±zda</h2>
<p>Graffiti ve Posca kalem satƒ±≈üƒ±.<br>üìç Bursa / Mustafakemalpa≈üa</p>
</div>

<div class="box">
<h2>√úr√ºn</h2>
<p>Posca Kalem</p>
<p>Stok: <span id="stok"></span></p>
<p>Fiyat: <span id="fiyatGoster"></span> TL</p>
</div>

<div class="box">
<h2>Sipari≈ü</h2>
<p id="uyari" style="color:#ff5555;">‚ö†Ô∏è Giri≈ü yapmadan sipari≈ü yok</p>

<form action="https://formspree.io/f/mdakkpzw" method="POST" onsubmit="return siparisKontrol()">

<input type="hidden" name="_cc" value="ADMIN_MAIL@MAIL.COM">
<input name="siparis_no" id="siparisNo" readonly>

<input name="isim" placeholder="ƒ∞sim Soyisim" required>
<input name="adres" placeholder="Adres" required>

<select id="adet" name="adet" onchange="hesapla()" required></select>

<input name="tutar" id="tutar" readonly>

<button id="siparisBtn" disabled>Sipari≈üi G√∂nder</button>
</form>
</div>

<div class="box">
<h2>Giri≈ü</h2>
<input id="user">
<input id="pass" type="password">
<button onclick="login()">Giri≈ü Yap</button>
</div>

<div class="box admin" id="adminPanel" style="display:none;">
<h2>ADMIN PANEL</h2>

<label>Fiyat Deƒüi≈ütir (‚Ç∫)</label>
<input id="adminFiyat" type="number">
<button onclick="fiyatDegistir()">Kaydet</button>

<label>Stok</label>
<input id="adminStok" type="number">
<button onclick="stokDegistir()">Kaydet</button>

<select>
<option>‚è≥ Beklemede</option>
<option>‚úÖ Onaylandƒ±</option>
<option>‚ùå Reddedildi</option>
</select>
</div>

</section>

<script>
let admin=false;
let giris=false;

let fiyat=localStorage.getItem("fiyat") || 170;
let stok=localStorage.getItem("stok") || 10;

function guncelle(){
  document.getElementById("stok").innerText=stok;
  document.getElementById("fiyatGoster").innerText=fiyat;
  document.getElementById("adet").innerHTML="";
  for(let i=1;i<=stok;i++){
    document.getElementById("adet").innerHTML+=
      `<option value="${i}">${i} Adet</option>`;
  }
}

function hesapla(){
  let a=document.getElementById("adet").value;
  document.getElementById("tutar").value=(a*fiyat)+" TL";
}

function login(){
  let u=user.value,p=pass.value;
  if(u==="cinar0zer" && p==="han11222"){
    admin=true;
    document.getElementById("adminPanel").style.display="block";
  }
  if(localStorage.getItem(u)===p || admin){
    giris=true;
    document.getElementById("siparisBtn").disabled=false;
    document.getElementById("uyari").innerText="‚úÖ Sipari≈ü verebilirsin";
  }
}

function siparisKontrol(){
  if(!giris) return false;
  stok--;
  localStorage.setItem("stok",stok);
  guncelle();
  return true;
}

function fiyatDegistir(){
  fiyat=adminFiyat.value;
  localStorage.setItem("fiyat",fiyat);
  guncelle();
}

function stokDegistir(){
  stok=adminStok.value;
  localStorage.setItem("stok",stok);
  guncelle();
}

document.getElementById("siparisNo").value="TB-"+Math.floor(Math.random()*999999);
guncelle();
hesapla();
</script>

</body>
</html>
